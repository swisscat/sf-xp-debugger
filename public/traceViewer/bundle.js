/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function t(t,e,s,n){var i,o=arguments.length,r=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,s,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(o<3?i(r):o>3?i(e,s,r):i(e,s))||r);return o>3&&r&&Object.defineProperty(e,s,r),r}function e(t,e,s,n){return new(s||(s=Promise))((function(i,o){function r(t){try{l(n.next(t))}catch(t){o(t)}}function c(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(r,c)}l((n=n.apply(t,e||[])).next())}))}function s(t){const e=""+~~(t/1e3),s=e.length<4?"0000".substring(e.length)+e:e;return`${s.slice(0,-3)}.${s.slice(-3)}ms`}function n(t){const e=document.querySelector(".tabHolder"),s=document.getElementById(t),n=document.querySelector(".tabber"),i=null==s?void 0:s.dataset.show,o=i?document.getElementById(i):null;null==e||e.querySelectorAll(".tab").forEach((t=>t.classList.remove("selected"))),null==s||s.classList.add("selected"),null==n||n.querySelectorAll(".tabItem").forEach((t=>t.classList.remove("selected"))),o&&o.classList.add("selected")}var i;!function(t){t.error="rgba(255, 128, 128, 0.2)",t.skip="rgba(128, 255, 128, 0.2)",t.unexpected="rgba(128, 128, 255, 0.2)"}(i||(i={}));const o=/^[A-Z_]*$/,r=new Map([["error",i.error],["skip",i.skip],["unexpected",i.unexpected]]),c=/\r?\n/,l=/^\d+\.\d+\sAPEX_CODE,\w+;APEX_PROFILING,.+$/m;let a,d=[],u=new Set,h=null,p=0,m=!1;class E{constructor(t){this.lines=t,this.index=0}peek(){return this.index<this.lines.length?this.lines[this.index]:null}fetch(){return this.index<this.lines.length?this.lines[this.index++]:null}}class f{constructor(t,e,s){this.timestamp=t,this.reason=e,this.color=s}}class x{constructor(t){this.duration=0,this.timestamp=0,this.type="",this.logLine="",this.text="",this.acceptsText=!1,this.declarative=!1,this.isExit=!1,this.isValid=!0,this.lineNumber=null,this.namespace=null,this.group=null,this.value=null,this.hasValidSymbols=!1,this.suffix=null,this.prefix=null,this.discontinuity=!1,this.rowCount=null,t&&(this.type=t[1],this.timestamp=function(t){const e=t.slice(t.indexOf("(")+1,-1);if(e)return Number(e);throw new Error(`Unable to parse timestamp: '${t}'`)}(t[0]))}getBreadcrumbText(){return this.type}}class _ extends x{constructor(t,e,s){super(t),this.exitStamp=null,this.children=[],this.selfTime=0,this.containsDml=0,this.containsSoql=0,this.containsThrown=0,this.timelineKey=e,this.cpuType=s}getBreadcrumbText(){let t=this.text;const e=t.indexOf("(");e>=0&&(t=t.substring(0,e));const s=t.lastIndexOf(".");return s>=0&&(t=t.substring(s+1)),t}addChild(t){this.children.push(t)}recalculateDurations(){this.exitStamp&&(this.selfTime=this.duration=this.exitStamp-this.timestamp,this.children.forEach((t=>{this.selfTime-=t.duration})))}}class T extends _{constructor(t,e,s,n,i){super(t,n,i),this.isTruncated=!1,this.exitTypes=e,this.classes=s?"node "+s:"node"}isMatchingEnd(t){return this.exitTypes.includes(t.type)&&(!t.lineNumber||!this.lineNumber||t.lineNumber===this.lineNumber)}endMethod(t,e,s){return this.exitStamp=t.timestamp,this.isMatchingEnd(t)?(m=!1,e.fetch(),!0):!!m||(!!s.some((e=>e.isMatchingEnd(t)))||(v(t.timestamp,"Unexpected-Exit","unexpected"),!1))}loadContent(t,e){var s;if(h=this.timestamp,this.exitTypes.length>0){let n;for(e.push(this);n=t.peek();){if(n.discontinuity&&(m=!0),n.isExit&&this.endMethod(n,t,e)){this.onEnd&&this.onEnd(n,e);break}t.fetch(),h=n.timestamp,n.isValid&&(null===(s=n.loadContent)||void 0===s||s.call(n,t,e)),this.addChild(n)}n||(this.exitStamp=h,v(h,"Unexpected-End","unexpected"),this.isTruncated=!0),e.pop()}this.recalculateDurations()}}class g extends T{constructor(){super(null,[],"root","codeUnit",""),this.text="Log Root",this.type="ROOT",this.timestamp=0,this.exitStamp=0}setEndTime(){let t;for(let e=this.children.length-1;e>=0;e--){const s=this.children[e];if(s instanceof _&&(null!=t||(t=s.exitStamp),"EXECUTION_STARTED"===s.type)){t=s.exitStamp;break}}this.exitStamp=t||0}}class y extends x{constructor(t){super(t),this.hideable=!0}}function v(t,e,s){if(!u.has(e)){u.add(e);const n=r.get(s)||i.error;a.push(new f(t,e,n))}}function A(t){const e=t.slice(1,-1);if(e){const t=Number(e);return Number.isNaN(t)?e:t}throw new Error(`Unable to parse line number: '${t}'`)}function N(t){const e=t.slice(t.indexOf("Rows:")+5);if(e)return Number(e);throw new Error(`Unable to parse row count: '${t}'`)}const I=new Map([["EventService","method"],["Validation","custom"],["Workflow","custom"],["Flow","custom"]]);class S extends T{constructor(t){super(t,["CODE_UNIT_FINISHED"],null,"codeUnit",S.getCpuType(t)),this.suffix=" (entrypoint)";const e=t[3].split(":"),s=t[4]||t[3],n=e[0];switch(n){case"EventService":this.cpuType="method",this.namespace=function(t){const e=t.indexOf("__");return e<0?"unmanaged":t.substring(0,e)}(e[1]),this.group="EventService "+this.namespace,this.text=t[3];break;case"Validation":this.cpuType="custom",this.declarative=!0,this.group="Validation",this.text=s||n+":"+e[1];break;case"Workflow":case"Flow":this.cpuType="custom",this.declarative=!0,this.group=n,this.text=s||n;break;default:this.cpuType="method",(null==s?void 0:s.startsWith("VF:"))&&(this.namespace=function(t){const e=t.indexOf("__");if(e<0)return"unmanaged";const s=t.indexOf("/");if(s<0)return"unmanaged";const n=t.indexOf("/",s+1);return n<0?"unmanaged":t.substring(n+1,e)}(s)),this.text=s||t[3]}}getBreadcrumbText(){return"Code Unit"}static getCpuType(t){const e=t[3].split(":")[0],s=I.get(e);return null!=s?s:"method"}}const $=new Map([["BULK_HEAP_ALLOCATE",class extends y{constructor(t){super(t),this.text=t[2]}}],["CALLOUT_REQUEST",class extends y{constructor(t){super(t),this.text=`${t[3]} : ${t[2]}`}}],["CALLOUT_RESPONSE",class extends y{constructor(t){super(t),this.text=`${t[3]} : ${t[2]}`}}],["NAMED_CREDENTIAL_REQUEST",class extends y{constructor(t){super(t),this.text=`${t[3]} : ${t[4]} : ${t[5]} : ${t[6]}`}}],["NAMED_CREDENTIAL_RESPONSE",class extends y{constructor(t){super(t),this.text=`${t[2]}`}}],["NAMED_CREDENTIAL_RESPONSE_DETAIL",class extends y{constructor(t){super(t),this.text=`${t[3]} : ${t[4]} ${t[5]} : ${t[6]} ${t[7]}`}}],["CONSTRUCTOR_ENTRY",class extends T{constructor(t){super(t,["CONSTRUCTOR_EXIT"],null,"method","method"),this.hasValidSymbols=!0,this.suffix=" (constructor)",this.lineNumber=A(t[2]);const e=t[4];this.text=t[5]+e.substring(e.lastIndexOf("("))}}],["CONSTRUCTOR_EXIT",class extends y{constructor(t){super(t),this.isExit=!0,this.lineNumber=A(t[2])}}],["EMAIL_QUEUE",class extends y{constructor(t){super(t),this.lineNumber=A(t[2])}}],["METHOD_ENTRY",class extends T{constructor(t){super(t,["METHOD_EXIT"],null,"method","method"),this.hasValidSymbols=!0,this.lineNumber=A(t[2]),this.text=t[4]||this.type,"System.Type.forName(String, String)"===this.text&&(this.cpuType="loading")}}],["METHOD_EXIT",class extends y{constructor(t){super(t),this.isExit=!0,this.lineNumber=A(t[2])}}],["SYSTEM_CONSTRUCTOR_ENTRY",class extends T{constructor(t){super(t,["SYSTEM_CONSTRUCTOR_EXIT"],"system","systemMethod","method"),this.suffix="(system constructor)",this.lineNumber=A(t[2]),this.text=t[3]}}],["SYSTEM_CONSTRUCTOR_EXIT",class extends y{constructor(t){super(t),this.isExit=!0,this.lineNumber=A(t[2])}}],["SYSTEM_METHOD_ENTRY",class extends T{constructor(t){super(t,["SYSTEM_METHOD_EXIT"],"system","systemMethod","method"),this.lineNumber=A(t[2]),this.text=t[3]}}],["SYSTEM_METHOD_EXIT",class extends y{constructor(t){super(t),this.isExit=!0,this.lineNumber=A(t[2])}}],["CODE_UNIT_STARTED",S],["CODE_UNIT_FINISHED",class extends y{constructor(t){super(t),this.isExit=!0,this.text=t[2]}}],["VF_APEX_CALL_START",class extends T{constructor(t){super(t,["VF_APEX_CALL_END"],null,"method","method"),this.suffix=" (VF APEX)",this.lineNumber=A(t[2]);const e=t[5]||t[3];let s=t[4]||"";if(!s&&e.toLowerCase().includes("pagemessagescomponentcontroller"))this.isValid=!1;else if(s){this.hasValidSymbols=!0;const t=s.indexOf("("),e=s.indexOf("<init>");s=t>-1?"."+s.substring(t).slice(1,-1)+"()":e>-1?s.substring(e+6)+"()":"."+s}else this.hasValidSymbols=!0;this.text=e+s}getBreadcrumbText(){return"VF Apex"}}],["VF_APEX_CALL_END",class extends y{constructor(t){super(t),this.isExit=!0,this.text=t[2]}}],["VF_DESERIALIZE_VIEWSTATE_BEGIN",class extends T{constructor(t){super(t,["VF_DESERIALIZE_VIEWSTATE_END"],null,"systemMethod","method"),this.text=this.type}getBreadcrumbText(){return"Viewstate"}}],["VF_DESERIALIZE_VIEWSTATE_END",class extends y{constructor(t){super(t),this.isExit=!0}}],["VF_EVALUATE_FORMULA_BEGIN",class extends T{constructor(t){super(t,["VF_EVALUATE_FORMULA_END"],"formula","systemMethod","custom"),this.suffix=" (VF FORMULA)",this.text=t[3],this.group=this.type}getBreadcrumbText(){return"VF Formula"}}],["VF_EVALUATE_FORMULA_END",class extends y{constructor(t){super(t),this.isExit=!0,this.text=t[2]}}],["VF_SERIALIZE_VIEWSTATE_BEGIN",class extends T{constructor(t){super(t,["VF_SERIALIZE_VIEWSTATE_END"],null,"systemMethod","method"),this.namespace="system",this.text=this.type}getBreadcrumbText(){return"VF Serialize"}}],["VF_SERIALIZE_VIEWSTATE_END",class extends y{constructor(t){super(t),this.isExit=!0}}],["VF_PAGE_MESSAGE",class extends y{constructor(t){super(t),this.text=t[2]}}],["DML_BEGIN",class extends T{constructor(t){super(t,["DML_END"],null,"dml","free"),this.group="DML",this.lineNumber=A(t[2]),this.text="DML "+t[3]+" "+t[4],this.rowCount=N(t[5])}getBreadcrumbText(){return"DML"}}],["DML_END",class extends y{constructor(t){super(t),this.isExit=!0,this.lineNumber=A(t[2])}}],["IDEAS_QUERY_EXECUTE",class extends y{constructor(t){super(t),this.lineNumber=A(t[2])}}],["SOQL_EXECUTE_BEGIN",class extends T{constructor(t){super(t,["SOQL_EXECUTE_END"],null,"soql","free"),this.group="SOQL",this.lineNumber=A(t[2]),this.text="SOQL: "+t[3]+" - "+t[4]}getBreadcrumbText(){return"SOQL"}onEnd(t,e){this.rowCount=t.rowCount}}],["SOQL_EXECUTE_END",class extends y{constructor(t){super(t),this.isExit=!0,this.lineNumber=A(t[2]),this.rowCount=N(t[3])}}],["SOQL_EXECUTE_EXPLAIN",class extends y{constructor(t){super(t),this.lineNumber=A(t[2]),this.text=`${t[3]}, line:${this.lineNumber}`}}],["SOSL_EXECUTE_BEGIN",class extends T{constructor(t){super(t,["SOSL_EXECUTE_END"],null,"soql","free"),this.group="SOQL",this.lineNumber=A(t[2]),this.text=`SOSL: ${t[3]}`}getBreadcrumbText(){return"SOSL"}onEnd(t,e){this.rowCount=t.rowCount}}],["SOSL_EXECUTE_END",class extends y{constructor(t){super(t),this.isExit=!0,this.lineNumber=A(t[2]),this.rowCount=N(t[3])}}],["HEAP_ALLOCATE",class extends y{constructor(t){super(t),this.lineNumber=A(t[2])}}],["HEAP_DEALLOCATE",class extends y{constructor(t){super(t),this.lineNumber=A(t[2])}}],["STATEMENT_EXECUTE",class extends y{constructor(t){super(t),this.lineNumber=A(t[2])}}],["VARIABLE_SCOPE_BEGIN",class extends y{constructor(t){super(t),this.prefix="ASSIGN ",this.classes="node detail",this.lineNumber=A(t[2]),this.text=t[3],this.group=this.type,this.value=t[4]}onEnd(t,e){t.value&&(this.value=t.value),console.debug("NEVER HIT?")}}],["VARIABLE_SCOPE_END",class extends y{constructor(t){super(t)}}],["VARIABLE_ASSIGNMENT",class extends y{constructor(t){super(t),this.lineNumber=A(t[2]),this.text=t[3],this.group=this.type,this.value=t[4]}}],["USER_INFO",class extends y{constructor(t){super(t),this.lineNumber=A(t[2]),this.text=this.type+":"+t[3]+" "+t[4],this.group=this.type}}],["USER_DEBUG",class extends y{constructor(t){super(t),this.acceptsText=!0,this.lineNumber=A(t[2]),this.text=this.type+":"+t[3]+" "+t[4],this.group=this.type}}],["CUMULATIVE_LIMIT_USAGE",class extends T{constructor(t){super(t,["CUMULATIVE_LIMIT_USAGE_END"],null,"systemMethod","system"),this.text=this.type,this.group=this.type}getBreadcrumbText(){return"Usage"}}],["CUMULATIVE_LIMIT_USAGE_END",class extends y{constructor(t){super(t),this.isExit=!0}}],["CUMULATIVE_PROFILING",class extends y{constructor(t){var e;super(t),this.acceptsText=!0,this.text=t[2]+" "+(null!==(e=t[3])&&void 0!==e?e:"")}}],["CUMULATIVE_PROFILING_BEGIN",class extends T{constructor(t){super(t,["CUMULATIVE_PROFILING_END"],null,"systemMethod","custom")}getBreadcrumbText(){return"Profiling"}}],["CUMULATIVE_PROFILING_END",class extends y{constructor(t){super(t),this.isExit=!0}}],["LIMIT_USAGE",class extends y{constructor(t){super(t),this.lineNumber=A(t[2]),this.text=t[3]+" "+t[4]+" out of "+t[5],this.group=this.type}}],["LIMIT_USAGE_FOR_NS",class extends y{constructor(t){super(t),this.acceptsText=!0,this.text=t[2],this.group=this.type}onAfter(t){const e=this.text.match(/Maximum CPU time: (\d+)/);!e||e[1]}}],["POP_TRACE_FLAGS",class extends y{constructor(t){super(t),this.namespace="system",this.lineNumber=A(t[2]),this.text=t[4]+", line:"+this.lineNumber+" - "+t[5]}}],["PUSH_TRACE_FLAGS",class extends y{constructor(t){super(t),this.namespace="system",this.lineNumber=A(t[2]),this.text=t[4]+", line:"+this.lineNumber+" - "+t[5]}}],["QUERY_MORE_BEGIN",class extends T{constructor(t){super(t,["QUERY_MORE_END"],null,"soql","custom"),this.lineNumber=A(t[2]),this.text=`line: ${this.lineNumber}`}getBreadcrumbText(){return"Query More"}}],["QUERY_MORE_END",class extends y{constructor(t){super(t),this.isExit=!0,this.lineNumber=A(t[2]),this.text=`line: ${this.lineNumber}`}}],["QUERY_MORE_ITERATIONS",class extends y{constructor(t){super(t),this.lineNumber=A(t[2]),this.text=`line: ${this.lineNumber}, iterations:${t[3]}`}}],["TOTAL_EMAIL_RECIPIENTS_QUEUED",class extends y{constructor(t){super(t),this.text=t[2]}}],["SAVEPOINT_ROLLBACK",class extends y{constructor(t){super(t),this.lineNumber=A(t[2]),this.text=`${t[3]}, line: ${this.lineNumber}`}}],["SAVEPOINT_SET",class extends y{constructor(t){super(t),this.lineNumber=A(t[2]),this.text=`${t[3]}, line: ${this.lineNumber}`}}],["STACK_FRAME_VARIABLE_LIST",class extends y{constructor(t){super(t),this.acceptsText=!0}}],["STATIC_VARIABLE_LIST",class extends y{constructor(t){super(t),this.acceptsText=!0}}],["SYSTEM_MODE_ENTER",class extends y{constructor(t){super(t),this.text=t[2]}}],["SYSTEM_MODE_EXIT",class extends y{constructor(t){super(t),this.text=t[2]}}],["EXECUTION_STARTED",class extends T{constructor(t){super(t,["EXECUTION_FINISHED"],null,"method","method"),this.text=this.type}getBreadcrumbText(){return"Started"}}],["EXECUTION_FINISHED",class extends y{constructor(t){super(t),this.isExit=!0,this.text=this.type}}],["ENTERING_MANAGED_PKG",class extends _{constructor(t){super(t,"method","pkg");const e=t[2],s=e.lastIndexOf("."),n=s<0?e:e.substring(s+1);this.text=this.namespace=n}after(t){this.exitStamp=t.timestamp,this.duration=this.selfTime=this.exitStamp-this.timestamp}}],["EVENT_SERVICE_PUB_BEGIN",class extends T{constructor(t){super(t,["EVENT_SERVICE_PUB_END"],null,"flow","custom"),this.group=this.type,this.text=t[2]}getBreadcrumbText(){return"Pub Begin"}}],["EVENT_SERVICE_PUB_END",class extends y{constructor(t){super(t),this.isExit=!0,this.text=t[2]}}],["EVENT_SERVICE_PUB_DETAIL",class extends y{constructor(t){super(t),this.text=t[2]+" "+t[3]+" "+t[4],this.group=this.type}}],["EVENT_SERVICE_SUB_BEGIN",class extends T{constructor(t){super(t,["EVENT_SERVICE_SUB_END"],null,"flow","custom"),this.text=`${t[2]} ${t[3]}`,this.group=this.type}getBreadcrumbText(){return"Sub Begin"}}],["EVENT_SERVICE_SUB_DETAIL",class extends y{constructor(t){super(t),this.text=`${t[2]} ${t[3]} ${t[4]} ${t[6]} ${t[6]}`,this.group=this.type}}],["EVENT_SERVICE_SUB_END",class extends y{constructor(t){super(t),this.isExit=!0,this.text=`${t[2]} ${t[3]}`}}],["FLOW_START_INTERVIEWS_BEGIN",class extends T{constructor(t){super(t,["FLOW_START_INTERVIEWS_END"],null,"flow","custom"),this.declarative=!0,this.text="FLOW_START_INTERVIEWS : "}onEnd(t,e){const s=this.getFlowType(e);this.group=s,this.suffix=` (${s})`,this.text+=this.getFlowName()}getFlowType(t){let e;for(let s=t.length-2;s>=0;s--){const n=t[s];if("CODE_UNIT_STARTED"===n.type){e="Flow"===n.group?"Flow":"Process Builder";break}if("FLOW_START_INTERVIEWS_BEGIN"===n.type){e="Flow";break}}return e||""}getBreadcrumbText(){return"Flow"}getFlowName(){return this.children.length?this.children[0].text:""}}],["FLOW_START_INTERVIEWS_END",class extends y{constructor(t){super(t),this.isExit=!0}}],["FLOW_START_INTERVIEWS_ERROR",class extends y{constructor(t){super(t),this.acceptsText=!0,this.text=`${t[2]} - ${t[4]}`}}],["FLOW_START_INTERVIEW_BEGIN",class extends y{constructor(t){super(t),this.text=t[3],this.group=this.type}}],["FLOW_START_INTERVIEW_END",class extends y{constructor(t){super(t)}}],["FLOW_START_INTERVIEW_LIMIT_USAGE",class extends y{constructor(t){super(t),this.text=t[2],this.group=this.type}}],["FLOW_START_SCHEDULED_RECORDS",class extends y{constructor(t){super(t),this.text=`${t[2]} : ${t[3]}`}}],["FLOW_CREATE_INTERVIEW_BEGIN",class extends y{constructor(t){super(t),this.text=""}}],["FLOW_CREATE_INTERVIEW_END",class extends y{constructor(t){super(t)}}],["FLOW_CREATE_INTERVIEW_ERROR",class extends y{constructor(t){super(t),this.text=`${t[2]} : ${t[3]} : ${t[4]} : ${t[5]}`}}],["FLOW_ELEMENT_BEGIN",class extends T{constructor(t){super(t,["FLOW_ELEMENT_END"],null,"flow","custom"),this.declarative=!0,this.group=this.type,this.text=this.type+" : "+t[3]+" "+t[4]}getBreadcrumbText(){return"Flow"}}],["FLOW_ELEMENT_END",class extends y{constructor(t){super(t),this.isExit=!0}}],["FLOW_ELEMENT_DEFERRED",class extends y{constructor(t){super(t),this.declarative=!0,this.text=t[2]+" "+t[3],this.group=this.type}}],["FLOW_ELEMENT_ERROR",class extends y{constructor(t){super(t),this.acceptsText=!0,this.text=t[1]+t[2]+" "+t[3]+" "+t[4]}}],["FLOW_ELEMENT_FAULT",class extends y{constructor(t){super(t),this.text=`${t[2]} : ${t[3]} : ${t[4]}`}}],["FLOW_ELEMENT_LIMIT_USAGE",class extends y{constructor(t){super(t),this.text=`${t[2]}`}}],["FLOW_INTERVIEW_FINISHED_LIMIT_USAGE",class extends y{constructor(t){super(t),this.text=`${t[2]}`}}],["FLOW_SUBFLOW_DETAIL",class extends y{constructor(t){super(t),this.text=`${t[2]} : ${t[3]} : ${t[4]} : ${t[5]}`}}],["FLOW_VALUE_ASSIGNMENT",class extends y{constructor(t){super(t),this.declarative=!0,this.acceptsText=!0,this.text=t[3]+" "+t[4],this.group=this.type}}],["FLOW_WAIT_EVENT_RESUMING_DETAIL",class extends y{constructor(t){super(t),this.text=`${t[2]} : ${t[3]} : ${t[4]} : ${t[5]}`}}],["FLOW_WAIT_EVENT_WAITING_DETAIL",class extends y{constructor(t){super(t),this.text=`${t[2]} : ${t[3]} : ${t[4]} : ${t[5]} : ${t[6]}`}}],["FLOW_WAIT_RESUMING_DETAIL",class extends y{constructor(t){super(t),this.text=`${t[2]} : ${t[3]} : ${t[4]}`}}],["FLOW_WAIT_WAITING_DETAIL",class extends y{constructor(t){super(t),this.text=`${t[2]} : ${t[3]} : ${t[4]} : ${t[5]}`}}],["FLOW_INTERVIEW_FINISHED",class extends y{constructor(t){super(t),this.text=t[3],this.group=this.type}}],["FLOW_INTERVIEW_PAUSED",class extends y{constructor(t){super(t),this.text=`${t[2]} : ${t[3]} : ${t[4]}`}}],["FLOW_INTERVIEW_RESUMED",class extends y{constructor(t){super(t),this.text=`${t[2]} : ${t[3]}`}}],["FLOW_ACTIONCALL_DETAIL",class extends y{constructor(t){super(t),this.text=t[3]+" : "+t[4]+" : "+t[5]+" : "+t[6],this.group=this.type}}],["FLOW_ASSIGNMENT_DETAIL",class extends y{constructor(t){super(t),this.text=t[3]+" : "+t[4]+" : "+t[5],this.group=this.type}}],["FLOW_LOOP_DETAIL",class extends y{constructor(t){super(t),this.text=t[3]+" : "+t[4],this.group=this.type}}],["FLOW_RULE_DETAIL",class extends y{constructor(t){super(t),this.text=t[3]+" : "+t[4],this.group=this.type}}],["FLOW_BULK_ELEMENT_BEGIN",class extends T{constructor(t){super(t,["FLOW_BULK_ELEMENT_END"],null,"flow","custom"),this.declarative=!0,this.text=`${this.type} : ${t[2]} - ${t[3]}`,this.group=this.type}getBreadcrumbText(){return"Flow"}}],["FLOW_BULK_ELEMENT_END",class extends y{constructor(t){super(t),this.isExit=!0}}],["FLOW_BULK_ELEMENT_DETAIL",class extends y{constructor(t){super(t),this.declarative=!0,this.text=t[2]+" : "+t[3]+" : "+t[4],this.group=this.type}}],["FLOW_BULK_ELEMENT_LIMIT_USAGE",class extends y{constructor(t){super(t),this.declarative=!0,this.text=t[2],this.group=this.type}}],["FLOW_BULK_ELEMENT_NOT_SUPPORTED",class extends y{constructor(t){super(t),this.text=`${t[2]} : ${t[3]} : ${t[4]}`}}],["PUSH_NOTIFICATION_INVALID_APP",class extends y{constructor(t){super(t),this.text=`${t[2]}.${t[3]}`}}],["PUSH_NOTIFICATION_INVALID_CERTIFICATE",class extends y{constructor(t){super(t),this.text=`${t[2]}.${t[3]}`}}],["PUSH_NOTIFICATION_INVALID_NOTIFICATION",class extends y{constructor(t){super(t),this.text=`${t[2]}.${t[3]} : ${t[4]} : ${t[5]} : ${t[6]} : ${t[7]} : ${t[8]}`}}],["PUSH_NOTIFICATION_NO_DEVICES",class extends y{constructor(t){super(t),this.text=`${t[2]}.${t[3]}`}}],["PUSH_NOTIFICATION_NOT_ENABLED",class extends y{constructor(t){super(t)}}],["PUSH_NOTIFICATION_SENT",class extends y{constructor(t){super(t),this.text=`${t[2]}.${t[3]} : ${t[4]} : ${t[5]} : ${t[6]} : ${t[7]}`}}],["SLA_END",class extends y{constructor(t){super(t),this.text=`${t[2]} : ${t[3]} : ${t[4]} : ${t[5]} : ${t[6]}`}}],["SLA_EVAL_MILESTONE",class extends y{constructor(t){super(t),this.text=`${t[2]}`}}],["SLA_NULL_START_DATE",class extends y{constructor(t){super(t)}}],["SLA_PROCESS_CASE",class extends y{constructor(t){super(t),this.text=`${t[2]}`}}],["TESTING_LIMITS",class extends y{constructor(t){super(t),this.acceptsText=!0}}],["VALIDATION_ERROR",class extends y{constructor(t){super(t),this.acceptsText=!0,this.text=t[2]}}],["VALIDATION_FAIL",class extends y{constructor(t){super(t)}}],["VALIDATION_FORMULA",class extends y{constructor(t){super(t),this.acceptsText=!0;const e=t.length>3?" "+t[3]:"";this.text=t[2]+e,this.group=this.type}}],["VALIDATION_PASS",class extends y{constructor(t){super(t),this.text=t[3],this.group=this.type}}],["VALIDATION_RULE",class extends y{constructor(t){super(t),this.text=t[3],this.group=this.type}}],["WF_FLOW_ACTION_BEGIN",class extends y{constructor(t){super(t)}}],["WF_FLOW_ACTION_END",class extends y{constructor(t){super(t)}}],["WF_FLOW_ACTION_ERROR",class extends y{constructor(t){super(t),this.acceptsText=!0,this.text=t[1]+" "+t[4]}}],["WF_FLOW_ACTION_ERROR_DETAIL",class extends y{constructor(t){super(t),this.acceptsText=!0,this.text=t[1]+" "+t[2]}}],["WF_FIELD_UPDATE",class extends y{constructor(t){super(t),this.text=" "+t[2]+" "+t[3]+" "+t[4]+" "+t[5]+" "+t[6],this.group=this.type}}],["WF_RULE_EVAL_BEGIN",class extends T{constructor(t){super(t,["WF_RULE_EVAL_END"],null,"workflow","custom"),this.declarative=!0,this.text=this.type+" : "+t[2]}getBreadcrumbText(){return"WF Rule"}}],["WF_RULE_EVAL_END",class extends y{constructor(t){super(t),this.isExit=!0}}],["WF_RULE_EVAL_VALUE",class extends y{constructor(t){super(t),this.text=t[2],this.group=this.type}}],["WF_RULE_FILTER",class extends y{constructor(t){super(t),this.acceptsText=!0,this.text=t[2],this.group=this.type}}],["WF_RULE_NOT_EVALUATED",class extends y{constructor(t){super(t),this.isExit=!0}}],["WF_CRITERIA_BEGIN",class extends T{constructor(t){super(t,["WF_CRITERIA_END","WF_RULE_NOT_EVALUATED"],null,"workflow","custom"),this.declarative=!0,this.group="WF_CRITERIA",this.text="WF_CRITERIA : "+t[5]+" : "+t[3]}getBreadcrumbText(){return"WF Criteria"}}],["WF_CRITERIA_END",class extends y{constructor(t){super(t),this.isExit=!0}}],["WF_FORMULA",class extends y{constructor(t){super(t),this.acceptsText=!0,this.text=t[2]+" : "+t[3],this.group=this.type}}],["WF_ACTION",class extends y{constructor(t){super(t),this.text=t[2],this.group=this.type}}],["WF_ACTIONS_END",class extends y{constructor(t){super(t),this.text=t[2]}}],["WF_ACTION_TASK",class extends y{constructor(t){super(t),this.text=`${t[2]} : ${t[3]} : ${t[4]} : ${t[5]} : ${t[6]} : ${t[7]}`}}],["WF_APPROVAL",class extends y{constructor(t){super(t),this.text=`${t[2]} : ${t[3]} : ${t[4]}`}}],["WF_APPROVAL_REMOVE",class extends y{constructor(t){super(t),this.text=`${t[2]}`}}],["WF_APPROVAL_SUBMIT",class extends y{constructor(t){super(t),this.text=`${t[2]}`}}],["WF_APPROVAL_SUBMITTER",class extends y{constructor(t){super(t),this.text=`${t[2]} : ${t[3]} : ${t[4]}`}}],["WF_ASSIGN",class extends y{constructor(t){super(t),this.text=`${t[2]} : ${t[3]}`}}],["WF_EMAIL_ALERT",class extends y{constructor(t){super(t),this.text=`${t[2]} : ${t[3]} : ${t[4]}`}}],["WF_EMAIL_SENT",class extends y{constructor(t){super(t),this.text=`${t[2]} : ${t[3]} : ${t[4]}`}}],["WF_ENQUEUE_ACTIONS",class extends y{constructor(t){super(t),this.text=t[2]}}],["WF_ESCALATION_ACTION",class extends y{constructor(t){super(t),this.text=`${t[2]} : ${t[3]}`}}],["WF_ESCALATION_RULE",class extends y{constructor(t){super(t)}}],["WF_EVAL_ENTRY_CRITERIA",class extends y{constructor(t){super(t),this.text=`${t[2]} : ${t[3]} : ${t[4]}`}}],["WF_FLOW_ACTION_DETAIL",class extends y{constructor(t){super(t);const e=t[4]?` : ${t[4]} :${t[5]}`:"";this.text=`${t[2]} : ${t[3]}`+e}}],["WF_HARD_REJECT",class extends y{constructor(t){super(t)}}],["WF_NEXT_APPROVER",class extends y{constructor(t){super(t),this.text=`${t[2]} : ${t[3]} : ${t[4]}`}}],["WF_NO_PROCESS_FOUND",class extends y{constructor(t){super(t)}}],["WF_OUTBOUND_MSG",class extends y{constructor(t){super(t),this.text=`${t[2]} : ${t[3]} : ${t[4]} : ${t[5]}`}}],["WF_PROCESS_FOUND",class extends y{constructor(t){super(t),this.text=`${t[2]} : ${t[3]}`}}],["WF_REASSIGN_RECORD",class extends y{constructor(t){super(t),this.text=`${t[2]} : ${t[3]}`}}],["WF_RESPONSE_NOTIFY",class extends y{constructor(t){super(t),this.text=`${t[2]} : ${t[3]} : ${t[4]} : ${t[5]}`}}],["WF_RULE_ENTRY_ORDER",class extends y{constructor(t){super(t),this.text=t[2]}}],["WF_RULE_INVOCATION",class extends y{constructor(t){super(t),this.text=t[2]}}],["WF_SOFT_REJECT",class extends y{constructor(t){super(t),this.text=t[2]}}],["WF_SPOOL_ACTION_BEGIN",class extends y{constructor(t){super(t),this.text=t[2]}}],["WF_TIME_TRIGGER",class extends y{constructor(t){super(t),this.text=`${t[2]} : ${t[3]} : ${t[4]} : ${t[5]}`}}],["WF_TIME_TRIGGERS_BEGIN",class extends y{constructor(t){super(t)}}],["EXCEPTION_THROWN",class extends y{constructor(t){super(t),this.discontinuity=!0;const e=t[3];e.indexOf("System.LimitException")>=0&&v(this.timestamp,e,"error"),this.lineNumber=A(t[2]),this.text=e,this.group=this.type}}],["FATAL_ERROR",class extends y{constructor(t){super(t),this.acceptsText=!0,this.hideable=!1,this.discontinuity=!0,v(this.timestamp,"FATAL ERROR! cause="+t[2],"error"),this.text=t[2]}}],["XDS_DETAIL",class extends y{constructor(t){super(t),this.text=t[2]}}],["XDS_RESPONSE",class extends y{constructor(t){super(t),this.text=`${t[2]} : ${t[3]} : ${t[4]} : ${t[5]} : ${t[6]}`}}],["XDS_RESPONSE_DETAIL",class extends y{constructor(t){super(t),this.text=t[2]}}],["XDS_RESPONSE_ERROR",class extends y{constructor(t){super(t),this.text=t[2]}}],["DUPLICATE_DETECTION_BEGIN",class extends T{constructor(t){super(t,["DUPLICATE_DETECTION_END"],null,"workflow","custom"),this.declarative=!0}getBreadcrumbText(){return"Dup"}}],["DUPLICATE_DETECTION_END",class extends y{constructor(t){super(t),this.isExit=!0}}],["DUPLICATE_DETECTION_RULE_INVOCATION",class extends y{constructor(t){super(t),this.text=`${t[3]} - ${t[4]}`}}]]);function b(t,e){var s;const n=t.split("|"),i=n[1],r=$.get(i);if(r){const i=new r(n);return i.logLine=t,null===(s=null==e?void 0:e.onAfter)||void 0===s||s.call(e,i),i}return!o.test(i)&&(null==e?void 0:e.acceptsText)?e.text+=` | ${t}`:i?"DUMMY"!==i&&console.warn(`Unknown log line: ${i}`):e&&t.startsWith("*** Skipped")?v(e.timestamp,"Skipped-Lines","skip"):e&&t.indexOf("MAXIMUM DEBUG LOG SIZE REACHED")>=0?v(e.timestamp,"Max-Size-reached","skip"):l.test(t)||console.warn(`Bad log line: ${t}`),null}function L(t){var s;return e(this,void 0,void 0,(function*(){const e=(null===(s=t.match(/^.*EXECUTION_STARTED.*$/m))||void 0===s?void 0:s.index)||-1,n=t.substring(e).split(c);d=[],a=[],u=new Set,m=!1;let i=null;const o=n.length;for(let t=0;t<o;t++){const e=n[t];if(e){const t=b(e,i);t&&(d.push(t),i=t)}}return d}))}class C{constructor(t,e){this.key=t,this.level=e}}function O(t){const e=t.match(l);if(!e)return[];const s=e[0];return s.substring(s.indexOf(" ")+1).split(";").map((t=>{const e=t.split(",");return new C(e[0],e[1])}))}function w(){return R.instance()}class R{constructor(){this.vscodeAPIInstance=null;try{this.vscodeAPIInstance=acquireVsCodeApi()}catch(t){console.log("acquireVsCodeApi() exception: "+t)}}static instance(){return this._instance||(this._instance=new R),this._instance}openPath(t){this.vscodeAPIInstance?this.vscodeAPIInstance.postMessage({cmd:"openPath",path:t}):console.log(`VSCodeService.openPath(${t}) with no VSCode instance.`)}openType(t){this.vscodeAPIInstance?this.vscodeAPIInstance.postMessage({cmd:"openType",typeName:t.typeName,text:t.text}):console.log(`VSCodeService.openType(${t}) with no VSCode instance.`)}openHelp(){this.vscodeAPIInstance?this.vscodeAPIInstance.postMessage({cmd:"openHelp"}):console.log("VSCodeService.open() with no VSCode instance.")}getConfig(){this.vscodeAPIInstance?this.vscodeAPIInstance.postMessage({cmd:"getConfig"}):console.log("VSCodeService.getConfig() with no VSCode instance.")}}let U,D,M;R._instance=null;const F=document.createElement("div"),k=document.createElement("span"),B=document.createElement("a");function P(t){const e=t.target;if(e.classList.contains("toggle")){const t=e.parentElement,s=null==t?void 0:t.querySelector(".toggle");let n=null==t?void 0:t.querySelector(".childContainer");const i=null==t?void 0:t.dataset.enterstamp;if(!n&&i){const e=q(U,i);if(e instanceof _){n=e.children.length?X(e.children,[e.timestamp]):null,n&&t.appendChild(n)}nt()}if(s&&n)switch(s.textContent){case"+":n.classList.remove("hide"),s.textContent="-";break;case"-":n.classList.add("hide"),s.textContent="+"}}}function W(t){var e;const s=function(t){let e=document.querySelector(`div[data-enterstamp="${t}"]`);if(!e){let s,n;const i=V(U,t)||[],o=i.length;for(let t=0;t<o;t++){const e=i[t];if(e){const t=document.querySelector(`div[data-enterstamp="${e.timestamp}"]`);if(t){s=t,n=e;continue}break}}const r=i.map((t=>{if(null==t?void 0:t.timestamp)return t.timestamp}));if(n instanceof _&&n.children.length&&s){const i=X(n.children,r);s.appendChild(i),e=document.querySelector(`div[data-enterstamp="${t}"]`)}}return e}(t);if(nt(),s){const t=(null==s?void 0:s.querySelector("span.name"))||s;n("treeTab"),function(t){const e=[];let s=t.parentElement;for(;s&&"tree"!==s.id;)s.id&&e.push(s),s=s.parentElement;const n=[t],i=e.length;for(let t=0;t<i;t++){const s=e[t];n.push(s);const i=s.querySelector(":scope > .toggle"),o=s.querySelector(":scope > .childContainer");i&&(n.push(o),i.textContent="-")}n.forEach((t=>t.classList.remove("hide")))}(s),s.scrollIntoView(!1),t&&(null===(e=document.getSelection())||void 0===e||e.selectAllChildren(t))}}function V(t,e){if(t.timestamp===e)return[t];const s=t.children.length;for(let n=0;n<s;n++){const s=t.children[n];if(s instanceof _){const t=V(s,e);if(t)return t.unshift(s),t}}return null}function H(t){return t.hasValidSymbols}function G(t,e){const n=t.children,i=F.cloneNode();i.line=t,t.timestamp>=0&&(i.dataset.enterstamp=""+t.timestamp,i.id=`calltree-${t.timestamp}`),t.duration&&(i.dataset.totaltime=""+t.duration),i.className=t.classes||"";const o=n.length;if(o){const t=k.cloneNode();t.textContent="+",t.className="toggle",i.appendChild(t)}else i.classList.add("indent");const r=k.cloneNode();r.className="name";const c=function(t){const e=t.prefix||"",n=t.suffix||"",i=[];t.containsDml&&i.push("D"+t.containsDml),t.containsSoql&&i.push("S"+t.containsSoql),t.containsThrown&&i.push("T"+t.containsThrown);let o="";i.length&&(o="("+i.join(",")+") ");const r=o+e,c=`${t.value?` = ${t.value}`:""}${n}${t.rowCount?` - Rows:${t.rowCount}`:""} - ${t.isTruncated?"TRUNCATED":`${s(t.duration)} (self ${s(t.selfTime)})`}${t.lineNumber?`, line: ${t.lineNumber}`:""}`,l=t.text;let a;if(!H(t))return[document.createTextNode(r+l+c)];a=B.cloneNode(),a.href="#",a.textContent=l;const d=[document.createTextNode(r),a];return c&&d.push(document.createTextNode(c)),d}(t),l=c.length;for(let t=0;t<l;t++)r.appendChild(c[t]);if(i.appendChild(r),o&&(e.includes(t.timestamp)||e.includes(-1))){const t=X(n,e);t&&i.appendChild(t)}return i}function X(t,e){const s=F.cloneNode();return s.className="childContainer hide",t.forEach((t=>{t instanceof T?s.appendChild(G(t,e)):s.appendChild(function(t){const e=F.cloneNode();e.className=t instanceof y&&t.hideable?"block name detail":"block name",e.line=t;const s=t.text||"";let n=t.type+(s&&s!==t.type?" - "+s:"");return n=n.replace(/ \| /g,"\n"),n.endsWith("\\")&&(n=n.slice(0,-1)),e.textContent=n,e}(t))})),s}function z(t){var e;const s=t.target,n=s.matches("a")?null===(e=s.parentElement)||void 0===e?void 0:e.parentElement:null;rt(s);const i=null==n?void 0:n.dataset.enterstamp;if(i&&(t.ctrlKey||t.metaKey)&&!t.altKey&&!t.shiftKey){const t=q(U,i);if(t){const e=function(t){if(!H(t))return null;const e=t.text,s=t.lineNumber?"-"+t.lineNumber:"",n=e.indexOf("("),i=n>-1?e.substring(0,n):e;let o;if("METHOD_ENTRY"===t.type){const t=i.lastIndexOf(".");o=e.substring(0,t)+s}else o=i+s;return{typeName:o,text:e}}(t);e&&w().openType(e)}}}function q(t,e){return Y(t,parseInt(e))}function Y(t,e){if(t){if(t.timestamp===e)return t;if(t.exitStamp&&!(e>=t.timestamp&&e<=t.exitStamp))return null;const s=t.children.length;for(let n=0;n<s;++n){const s=t.children[n];if(s instanceof _){const t=Y(s,e);if(t)return t}}}return null}function Q(t){return e(this,void 0,void 0,(function*(){U=t,function(){const t=document.getElementById("tree");if(t){t.addEventListener("click",P),t.addEventListener("click",z);const e=G(U,[0]);if(t.innerHTML="",e){t.appendChild(e);const s=F.cloneNode();s.style.height="78vh",t.appendChild(s),nt()}}}()}))}function K(t){const e=t.querySelector(":scope > .toggle"),s=t.querySelector(":scope > .childContainer");if(e&&!s&&t.dataset.enterstamp){const e=q(U,t.dataset.enterstamp||"");if(e instanceof _&&e.children.length){const s=X(e.children,[-1]);t.appendChild(s)}}else if(t.children){const e=t.children.length;for(let s=0;s<e;++s)K(t.children[s])}}let Z=!1;function j(){const t=document.getElementById("tree");Z||(K(t),Z=!0),t&&(nt(),t.querySelectorAll(".toggle").forEach((t=>{t.textContent="-"})),document.querySelectorAll(".childContainer").forEach((t=>{t.classList.contains("block")||t.classList.remove("hide")})))}function J(){const t=document.getElementById("tree");var e;t&&(e=t,document.querySelectorAll(".toggle").forEach((t=>{t.textContent="+"})),e.querySelectorAll(".childContainer").forEach((t=>{t.classList.contains("block")||t.classList.add("hide")})))}function tt(t,e){const s=function(t){const e=document.styleSheets.length;for(let s=0;s<e;++s){const e=document.styleSheets[s].cssRules,n=e.length;for(let s=0;s<n;++s){const n=e[s];if(n.selectorText===t)return n}}return null}(t);s&&(s.style.display=e?"none":"block")}function et(t){t.classList.add("hide")}function st(t){t.classList.remove("hide")}function nt(){const t=document.getElementById("hideDetails"),e=document.getElementById("hideSystem"),s=document.getElementById("hideFormula"),n=Array.from(document.querySelectorAll("#tree .node[data-totaltime]"));n.forEach(st),function(t){const e=document.getElementById("hideUnder");if(null==e?void 0:e.checked){const e=1e6*+document.getElementById("hideUnderTime").value;if(e){t.filter((t=>Number(t.dataset.totaltime)<e)).forEach(et)}}}(n),tt(".detail",null==t?void 0:t.checked),tt(".node.system",null==e?void 0:e.checked),tt(".node.formula",null==s?void 0:s.checked)}function it(t){if(null===t||t.classList.contains("root"))return null;let e=t.parentElement;for(;e&&!e.classList.contains("node");)e=e.parentElement;return e}function ot(t,e){const s=e.line,n=e.querySelector(".name")||e,i=F.cloneNode(),o=F.cloneNode(),r=document.createTextNode(s.getBreadcrumbText());i.classList.add("crumb"),i.title=n.textContent,i.appendChild(o),i.addEventListener("click",(t=>{n.scrollIntoView(),rt(n)})),o.appendChild(r),t.insertAdjacentElement("afterbegin",i)}function rt(t){const e=F.cloneNode();if(M.replaceWith(e),M=e,D&&D.classList.remove("marked"),null===t)return;t.classList.add("marked"),D=t;let s=t.line?t:it(t);for(;s&&s.line!==U;)ot(M,s),s=it(s)}window.addEventListener("DOMContentLoaded",(function(t){const e=document.getElementById("expandAll"),s=document.getElementById("collapseAll"),n=document.getElementById("hideDetails"),i=document.getElementById("hideSystem"),o=document.getElementById("hideFormula"),r=document.getElementById("hideUnder"),c=document.getElementById("hideUnderTime");M=document.getElementById("breadcrumb"),null==e||e.addEventListener("click",j),null==s||s.addEventListener("click",J),null==n||n.addEventListener("change",nt),null==i||i.addEventListener("change",nt),null==o||o.addEventListener("change",nt),null==r||r.addEventListener("change",nt),null==c||c.addEventListener("input",nt)}));const ct=new Map([["codeUnit",{label:"Code Unit",fillColor:"#6BAD68"}],["soql",{label:"SOQL",fillColor:"#4B9D6E"}],["method",{label:"Method",fillColor:"#328C72"}],["flow",{label:"Flow",fillColor:"#237A72"}],["dml",{label:"DML",fillColor:"#22686D"}],["workflow",{label:"Workflow",fillColor:"#285663"}],["systemMethod",{label:"System Method",fillColor:"#2D4455"}]]);const lt=new class{constructor(){this.isRedrawQueued=!0,this.defaultZoom=0,this._zoom=0,this._offsetY=0,this._offsetX=0}set zoom(t){this._zoom=t,this.queueRedraw()}get zoom(){return this._zoom}set offsetY(t){this._offsetY!==t&&(this._offsetY=t,this.queueRedraw())}get offsetY(){return this._offsetY}set offsetX(t){this._offsetX!==t&&(this._offsetX=t,this.queueRedraw())}get offsetX(){return this._offsetX}queueRedraw(){this.isRedrawQueued||(this.isRedrawQueued=!0,requestAnimationFrame(Lt))}};let at,dt,ut,ht,pt,mt,Et,ft,xt,_t,Tt,gt=0;function yt(t,e=0){if(!t.children.length)return e;const s=t.duration?e+1:e;let n=e;for(let e=t.children.length-1;e>=0;--e){const i=t.children[e];if(i instanceof T){const t=yt(i,s);t>n&&(n=t)}}return n}function vt(t,e){const s=[],n=t.length;for(let i=0;i<n;i++){const n=t[i],{timelineKey:o,duration:r}=n;o&&r&&Nt(n,e),n.children.forEach((t=>{t instanceof T&&s.push(t)}))}s.length&&vt(s,e+1)}const At=new Map;function Nt(t,e){const{timelineKey:s,timestamp:n,duration:i}=t,o={x:n,y:e,w:i};let r=At.get(s);r||At.set(s,r=[]),r.push(o)}const It=t=>{const e=t.w*lt.zoom;if(e>=.05){const s=t.x*lt.zoom-lt.offsetX,n=-15*t.y-lt.offsetY;s<ft&&s+e>0&&n>-Et&&n+-15<0&&(null==ht||ht.rect(s,n,e,-15))}};function St(){mt=yt(xt),$t(),gt=15*mt,lt.offsetX=0,lt.offsetY=0}function $t(){if(!dt)return;const{clientWidth:t,clientHeight:e}=dt;if(t&&e&&(t!==ft||e!==Et)){ut.width=ft=t,ut.height=Et=e,null==ht||ht.setTransform(1,0,0,1,0,Et);const s=t/p;lt.defaultZoom||(lt.defaultZoom=lt.zoom||(lt.zoom=s));const n=lt.zoom-(lt.defaultZoom-s);lt.zoom=Math.min(n,.3),lt.defaultZoom=s}pt=lt.zoom>4e-7?"normal 16px serif":"normal 8px serif"}function bt(t){return e(this,void 0,void 0,(function*(){Ct(),dt=document.getElementById("timelineWrapper"),ut=document.getElementById("timeline"),ht=ut.getContext("2d"),xt=t,St(),vt([xt],-1),ht&&requestAnimationFrame(Lt)}))}function Lt(){ht&&($t(),ht.clearRect(0,-Et,ft,Et),function(t){var e,s;const n=a.length;if(!n)return;let i=0;for(;i<n;){const n=a[i++],o=null!==(e=a[i])&&void 0!==e?e:{},r=n.timestamp,c=null!==(s=o.timestamp)&&void 0!==s?s:p;t.fillStyle=n.color;const l=r*lt.zoom-lt.offsetX,d=(c-r)*lt.zoom;t.fillRect(l,-Et,d,Et)}}(ht),function(t){t.lineWidth=1,t.font=pt,t.textBaseline="top",t.textAlign="left";const e=2-Et,s=1e9*lt.zoom,n=lt.offsetX/lt.zoom,i=n+ft/lt.zoom,o=Math.ceil(i/1e9),r=Math.floor(n/1e9);t.strokeStyle="#F88962",t.fillStyle="#F88962",t.beginPath();for(let n=r;n<=o;n++){const i=s*n-lt.offsetX;t.moveTo(i,-Et),t.lineTo(i,0),t.fillText(`${n.toFixed(1)}s`,i+2,e)}t.stroke();const c=150/(1e3*lt.zoom),l=[1,2,5,10,20,50,100,200,500,1e3,2e3,5e3,1e4,2e4,5e4,1e5,2e5,5e5,1e6].reduce((function(t,e){return Math.abs(e-c)<Math.abs(t-c)?e:t}));t.strokeStyle="#E0E0E0",t.fillStyle="#808080",t.beginPath();const a=1e3*lt.zoom,d=i/1e3,u=n/1e3;let h=1e6*Math.floor(u/1e6);for(;h<d;)if(h+=l,h%1e6!=0&&h>=u){const s=a*h-lt.offsetX;t.moveTo(s,-Et),t.lineTo(s,0),t.fillText(h/1e3+" ms",s+2,e)}t.stroke()}(ht),ht.strokeStyle="#B0B0B0",ht.lineWidth=1,function(t){t.lineWidth=1;for(const[e,s]of At){const n=ct.get(e);n&&(t.beginPath(),t.fillStyle=n.fillColor,s.forEach(It),t.fill(),t.stroke())}}(ht)),lt.isRedrawQueued=!1}function Ct(){const t=document.getElementById("timelineKey"),e=document.createElement("span");e.innerText="",t&&(t.innerHTML="",t.appendChild(e));for(const e of ct.values()){const s=document.createElement("div"),n=document.createElement("span");n.innerText=e.label,s.className="keyEntry",s.style.backgroundColor=e.fillColor,s.style.color="#FFFFFF",s.appendChild(n),t.appendChild(s)}}function Ot(t,e,s,n){if(!t)return null;if(t.duration){const i=t.timestamp*lt.zoom-lt.offsetX,o=t.duration*lt.zoom,r=i+o;if(o<.05||i>s||r<s)return null;if(e===n)return t}if(t.children.length){const i=t.duration?e+1:e;if(n>=i){const e=t.children.length;for(let o=0;o<e;++o){const e=t.children[o];if(e instanceof _){const t=Ot(e,i,s,n);if(t)return t}}}}return null}function wt(t,e){if(!Mt&&dt&&at){const n=function(t,e){const n=Ot(xt,0,t,e);if(n){const t=document.createElement("div"),e=document.createElement("br");let i=n.text;return n.suffix&&(i+=n.suffix),t.appendChild(document.createTextNode(n.type)),t.appendChild(e.cloneNode()),t.appendChild(document.createTextNode(i)),n.timestamp&&n.duration&&n.selfTime&&(t.appendChild(e.cloneNode()),t.appendChild(document.createTextNode("timestamp: "+n.timestamp)),n.exitStamp&&(t.appendChild(document.createTextNode(" => "+n.exitStamp)),t.appendChild(e.cloneNode()),t.appendChild(document.createTextNode(`duration: ${s(n.duration)}`)),"free"===n.cpuType?t.appendChild(document.createTextNode(" (free)")):t.appendChild(document.createTextNode(` (self ${s(n.selfTime)})`)))),t}return null}(t,~~((Et-e-lt.offsetY)/gt*mt))||function(t){var e,s;const n=null==a?void 0:a.length;let i=0;for(;i<n;){const n=a[i++],o=null!==(e=a[i])&&void 0!==e?e:{},r=n.timestamp,c=null!==(s=o.timestamp)&&void 0!==s?s:p,l=r*lt.zoom-lt.offsetX,d=c*lt.zoom-lt.offsetX;if(t>=l&&t<=d){const t=document.createElement("div");return t.textContent=n.reason,t}}return null}(t);!function(t,e,s,n,i){if(s&&n&&i){let o=t+10,r=e+2;n.innerHTML="",n.appendChild(s),n.style.cssText=`left:${o}px; top:${r}px; display: block;`;const c=n.offsetWidth-i.offsetWidth+o;c>0&&(o-=c-4);const l=n.offsetHeight-i.offsetHeight+r;l>0&&(r-=n.offsetHeight+4),(c>0||l>0)&&(n.style.cssText=`left:${o}px; top:${r}px; display: block;`)}else n.style.display="none"}(t,e,n,at,dt)}}function Rt(t){const e=t.target;if(e&&("timeline"===e.id||"tooltip"===e.id)){const e=null==ut?void 0:ut.getBoundingClientRect();e&&(_t=t.clientX-e.left,Tt=t.clientY-e.top,wt(_t,Tt))}}function Ut(){if(!Mt&&"block"===at.style.display){const t=~~((Et-Tt-lt.offsetY)/gt*mt),e=Ot(xt,0,_t,t);e&&e.timestamp&&W(e.timestamp)}}function Dt(){Mt=!1,at.style.display="none"}let Mt=!1;function Ft(){Mt=!0}function kt(){Mt=!1}function Bt(t){if(Mt){at.style.display="none";const{movementY:e,movementX:s}=t,n=lt.zoom*p-ft;lt.offsetX=Math.max(0,Math.min(n,lt.offsetX-s));const i=~~(gt-Et+Et/4);lt.offsetY=Math.min(0,Math.max(-i,lt.offsetY-e))}}function Pt(t){if(!Mt){at.style.display="none",t.stopPropagation();const{deltaY:e,deltaX:s}=t,n=lt.zoom;let i=e/1e3*lt.zoom;const o=lt.zoom-i;if(i=o>=lt.defaultZoom?i:lt.zoom-lt.defaultZoom,i=o<=.3?i:lt.zoom-.3,0!==i){if(lt.zoom=lt.zoom-i,lt.zoom!==n){const t=(_t+lt.offsetX)/n*lt.zoom-_t,e=lt.zoom*p-ft;lt.offsetX=Math.max(0,Math.min(e,t))}}else{const t=lt.zoom*p-ft;lt.offsetX=Math.max(0,Math.min(t,lt.offsetX+s))}}}window.addEventListener("DOMContentLoaded",(function(){const t=document.getElementById("timeline"),e=document.getElementById("timelineWrapper");at=document.getElementById("tooltip"),t&&(t.addEventListener("mouseout",Dt),t.addEventListener("wheel",Pt,{passive:!0}),t.addEventListener("mousedown",Ft),t.addEventListener("mouseup",kt),t.addEventListener("mousemove",Bt,{passive:!0}),t.addEventListener("click",Ut)),e&&new ResizeObserver($t).observe(e),document.addEventListener("mousemove",Rt)}));const Wt=new Map([["count",["count","duration","name"]],["duration",["duration","count","name"]],["selfTime",["selfTime","count","name"]],["name",["name","count","duration"]]]),Vt=document.createElement("div"),Ht=document.createElement("span"),Gt=document.createElement("b");let Xt;class zt{constructor(t,e,s,n){this.name=t,this.count=e,this.duration=s,this.selfTime=n}}function qt(t,e,s){const n=e.children;if(s){const n=t.get(s);n?(++n.count,e.duration&&(n.duration+=e.duration,n.selfTime+=e.selfTime)):t.set(s,new zt(s,1,e.duration,e.selfTime))}n.forEach((function(e){e instanceof _&&qt(t,e,e.group||e.text)}))}function Yt(t){const e=new Map;return qt(e,t),Xt=[...e.values()],Xt}function Qt(t,e,s,n){let i,o,r;switch(t){case"count":o=s.count,r=n.count;break;case"duration":o=s.duration,r=n.duration;break;case"selfTime":o=s.selfTime,r=n.selfTime;break;default:o=s.name,r=n.name}return i=o===r?0:void 0===o?1:void 0===r||o<r?-1:1,e?i:-i}function Kt(t,e,s,n,i=!1){const o=Zt(t,i);o.className="name",o.title=t;const r=Zt(e,i);r.className="count";const c=Zt(s,i);c.className="duration";const l=Zt(n,i);l.className="selfTime";const a=Vt.cloneNode();return a.className=i?"row":"row data",a.appendChild(o),a.appendChild(r),a.appendChild(c),a.appendChild(l),a}function Zt(t,e){const s=e?Gt.cloneNode():Ht.cloneNode();return s.textContent=t,s}function jt(){return e(this,void 0,void 0,(function*(){const t=document.getElementById("sortField").value,e=document.getElementById("sortAscending"),n=null==e?void 0:e.checked,i=document.getElementById("analysisHeader"),o=document.getElementById("analysis"),r=document.getElementById("analysisFooter");if(Xt.sort((function(e,s){return function(t,e,s,n){const i=Wt.get(t)||[],o=i.length;for(let t=0;t<o;++t){const o=Qt(i[t],e,s,n);if(0!==o)return o}return 0}(t,n,e,s)})),i&&r&&o){i.innerHTML="",i.appendChild(Kt("Method Name","Count","Total Time","Self Time",!0)),o.innerHTML="";let t=0,e=0;Xt.forEach((function(n){const i=n.duration?s(n.duration):"-",r=n.selfTime?s(n.selfTime):"-";o.appendChild(Kt(n.name,""+n.count,i,r)),t+=n.count,e+=n.selfTime})),p&&(r.innerHTML="",r.appendChild(Kt("Total",""+t,s(p),s(e),!0)))}}))}function Jt(){jt()}window.addEventListener("DOMContentLoaded",(function(){const t=document.getElementById("sortField"),e=document.getElementById("sortAscending");null==t||t.addEventListener("change",Jt),null==e||e.addEventListener("change",Jt)}));class te{constructor(t,e,s){this.count=t,this.rowCount=e,this.stacks=s}expand(t,e,s){return new te(this.count+t,this.rowCount+e,this.stacks.concat([s]))}}class ee{constructor(){this.dmlMap=new Map,this.soqlMap=new Map,this.stacks=[]}static create(t){return e(this,void 0,void 0,(function*(){const e=new ee;return ee.findDatabaseLines(e,t,[]),this._instance=e,this._instance}))}static instance(){return ee._instance}static findDatabaseLines(t,e,s){const n=e.children,i=n.length;for(let e=0;e<i;++e){const i=n[e];switch(i.type){case"DML_BEGIN":t.upsert(t.dmlMap,i,s);break;case"SOQL_EXECUTE_BEGIN":t.upsert(t.soqlMap,i,s)}i instanceof T&&(s.push(i),ee.findDatabaseLines(t,i,s),s.pop())}}upsert(t,e,s){const n=this.internStack(s),i=t.get(e.text);i?t.set(e.text,i.expand(1,e.rowCount||0,n)):t.set(e.text,new te(1,e.rowCount||0,[n]))}internStack(t){return this.stacks.push([...t].reverse()),this.stacks.length-1}}function se(t,e){const s=e.split(".");return t.has(s[0])?s[0]:null}function ne(t){return e(this,void 0,void 0,(function*(){const e=function(t){const e=t.children,s=new Set;let n=0;for(;n<window.activeNamespaces.length;)s.add(window.activeNamespaces[n]),++n;for(n=0;n<e.length;){const t=e[n];"ENTERING_MANAGED_PKG"===t.type&&s.add(t.text),++n}return s}(t),s=t.children;let n=0;for(;n<s.length;){const t=s[n],i=t.type;"CODE_UNIT_STARTED"!==i||"method"!==t.type||t.namespace?("EXCEPTION_THROWN"===i||"CONSTRUCTOR_ENTRY"===i||"METHOD_ENTRY"===i)&&(t.namespace=se(e,t.text)):t.namespace=se(e,t.text),++n}return e}))}
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */ee._instance=null;const ie=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,oe=Symbol(),re=new Map;class ce{constructor(t,e){if(this._$cssResult$=!0,e!==oe)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t}get styleSheet(){let t=re.get(this.cssText);return ie&&void 0===t&&(re.set(this.cssText,t=new CSSStyleSheet),t.replaceSync(this.cssText)),t}toString(){return this.cssText}}const le=(t,...e)=>{const s=1===t.length?t[0]:e.reduce(((e,s,n)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+t[n+1]),t[0]);return new ce(s,oe)},ae=ie?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const s of t.cssRules)e+=s.cssText;return(t=>new ce("string"==typeof t?t:t+"",oe))(e)})(t):t
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */;var de;const ue=window.trustedTypes,he=ue?ue.emptyScript:"",pe=window.reactiveElementPolyfillSupport,me={toAttribute(t,e){switch(e){case Boolean:t=t?he:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let s=t;switch(e){case Boolean:s=null!==t;break;case Number:s=null===t?null:Number(t);break;case Object:case Array:try{s=JSON.parse(t)}catch(t){s=null}}return s}},Ee=(t,e)=>e!==t&&(e==e||t==t),fe={attribute:!0,type:String,converter:me,reflect:!1,hasChanged:Ee};class xe extends HTMLElement{constructor(){super(),this._$Et=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Ei=null,this.o()}static addInitializer(t){var e;null!==(e=this.l)&&void 0!==e||(this.l=[]),this.l.push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach(((e,s)=>{const n=this._$Eh(s,e);void 0!==n&&(this._$Eu.set(n,s),t.push(n))})),t}static createProperty(t,e=fe){if(e.state&&(e.attribute=!1),this.finalize(),this.elementProperties.set(t,e),!e.noAccessor&&!this.prototype.hasOwnProperty(t)){const s="symbol"==typeof t?Symbol():"__"+t,n=this.getPropertyDescriptor(t,s,e);void 0!==n&&Object.defineProperty(this.prototype,t,n)}}static getPropertyDescriptor(t,e,s){return{get(){return this[e]},set(n){const i=this[t];this[e]=n,this.requestUpdate(t,i,s)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||fe}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),this.elementProperties=new Map(t.elementProperties),this._$Eu=new Map,this.hasOwnProperty("properties")){const t=this.properties,e=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const s of e)this.createProperty(s,t[s])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const s=new Set(t.flat(1/0).reverse());for(const t of s)e.unshift(ae(t))}else void 0!==t&&e.push(ae(t));return e}static _$Eh(t,e){const s=e.attribute;return!1===s?void 0:"string"==typeof s?s:"string"==typeof t?t.toLowerCase():void 0}o(){var t;this._$Ep=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$Em(),this.requestUpdate(),null===(t=this.constructor.l)||void 0===t||t.forEach((t=>t(this)))}addController(t){var e,s;(null!==(e=this._$Eg)&&void 0!==e?e:this._$Eg=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(s=t.hostConnected)||void 0===s||s.call(t))}removeController(t){var e;null===(e=this._$Eg)||void 0===e||e.splice(this._$Eg.indexOf(t)>>>0,1)}_$Em(){this.constructor.elementProperties.forEach(((t,e)=>{this.hasOwnProperty(e)&&(this._$Et.set(e,this[e]),delete this[e])}))}createRenderRoot(){var t;const e=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return((t,e)=>{ie?t.adoptedStyleSheets=e.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet)):e.forEach((e=>{const s=document.createElement("style"),n=window.litNonce;void 0!==n&&s.setAttribute("nonce",n),s.textContent=e.cssText,t.appendChild(s)}))})(e,this.constructor.elementStyles),e}connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$Eg)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostConnected)||void 0===e?void 0:e.call(t)}))}enableUpdating(t){}disconnectedCallback(){var t;null===(t=this._$Eg)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostDisconnected)||void 0===e?void 0:e.call(t)}))}attributeChangedCallback(t,e,s){this._$AK(t,s)}_$ES(t,e,s=fe){var n,i;const o=this.constructor._$Eh(t,s);if(void 0!==o&&!0===s.reflect){const r=(null!==(i=null===(n=s.converter)||void 0===n?void 0:n.toAttribute)&&void 0!==i?i:me.toAttribute)(e,s.type);this._$Ei=t,null==r?this.removeAttribute(o):this.setAttribute(o,r),this._$Ei=null}}_$AK(t,e){var s,n,i;const o=this.constructor,r=o._$Eu.get(t);if(void 0!==r&&this._$Ei!==r){const t=o.getPropertyOptions(r),c=t.converter,l=null!==(i=null!==(n=null===(s=c)||void 0===s?void 0:s.fromAttribute)&&void 0!==n?n:"function"==typeof c?c:null)&&void 0!==i?i:me.fromAttribute;this._$Ei=r,this[r]=l(e,t.type),this._$Ei=null}}requestUpdate(t,e,s){let n=!0;void 0!==t&&(((s=s||this.constructor.getPropertyOptions(t)).hasChanged||Ee)(this[t],e)?(this._$AL.has(t)||this._$AL.set(t,e),!0===s.reflect&&this._$Ei!==t&&(void 0===this._$E_&&(this._$E_=new Map),this._$E_.set(t,s))):n=!1),!this.isUpdatePending&&n&&(this._$Ep=this._$EC())}async _$EC(){this.isUpdatePending=!0;try{await this._$Ep}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Et&&(this._$Et.forEach(((t,e)=>this[e]=t)),this._$Et=void 0);let e=!1;const s=this._$AL;try{e=this.shouldUpdate(s),e?(this.willUpdate(s),null===(t=this._$Eg)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostUpdate)||void 0===e?void 0:e.call(t)})),this.update(s)):this._$EU()}catch(t){throw e=!1,this._$EU(),t}e&&this._$AE(s)}willUpdate(t){}_$AE(t){var e;null===(e=this._$Eg)||void 0===e||e.forEach((t=>{var e;return null===(e=t.hostUpdated)||void 0===e?void 0:e.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Ep}shouldUpdate(t){return!0}update(t){void 0!==this._$E_&&(this._$E_.forEach(((t,e)=>this._$ES(e,this[e],t))),this._$E_=void 0),this._$EU()}updated(t){}firstUpdated(t){}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var _e;xe.finalized=!0,xe.elementProperties=new Map,xe.elementStyles=[],xe.shadowRootOptions={mode:"open"},null==pe||pe({ReactiveElement:xe}),(null!==(de=globalThis.reactiveElementVersions)&&void 0!==de?de:globalThis.reactiveElementVersions=[]).push("1.0.2");const Te=globalThis.trustedTypes,ge=Te?Te.createPolicy("lit-html",{createHTML:t=>t}):void 0,ye=`lit$${(Math.random()+"").slice(9)}$`,ve="?"+ye,Ae=`<${ve}>`,Ne=document,Ie=(t="")=>Ne.createComment(t),Se=t=>null===t||"object"!=typeof t&&"function"!=typeof t,$e=Array.isArray,be=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Le=/-->/g,Ce=/>/g,Oe=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,we=/'/g,Re=/"/g,Ue=/^(?:script|style|textarea)$/i,De=(t=>(e,...s)=>({_$litType$:t,strings:e,values:s}))(1),Me=Symbol.for("lit-noChange"),Fe=Symbol.for("lit-nothing"),ke=new WeakMap,Be=(t,e,s)=>{var n,i;const o=null!==(n=null==s?void 0:s.renderBefore)&&void 0!==n?n:e;let r=o._$litPart$;if(void 0===r){const t=null!==(i=null==s?void 0:s.renderBefore)&&void 0!==i?i:null;o._$litPart$=r=new Xe(e.insertBefore(Ie(),t),t,void 0,null!=s?s:{})}return r._$AI(t),r},Pe=Ne.createTreeWalker(Ne,129,null,!1),We=(t,e)=>{const s=t.length-1,n=[];let i,o=2===e?"<svg>":"",r=be;for(let e=0;e<s;e++){const s=t[e];let c,l,a=-1,d=0;for(;d<s.length&&(r.lastIndex=d,l=r.exec(s),null!==l);)d=r.lastIndex,r===be?"!--"===l[1]?r=Le:void 0!==l[1]?r=Ce:void 0!==l[2]?(Ue.test(l[2])&&(i=RegExp("</"+l[2],"g")),r=Oe):void 0!==l[3]&&(r=Oe):r===Oe?">"===l[0]?(r=null!=i?i:be,a=-1):void 0===l[1]?a=-2:(a=r.lastIndex-l[2].length,c=l[1],r=void 0===l[3]?Oe:'"'===l[3]?Re:we):r===Re||r===we?r=Oe:r===Le||r===Ce?r=be:(r=Oe,i=void 0);const u=r===Oe&&t[e+1].startsWith("/>")?" ":"";o+=r===be?s+Ae:a>=0?(n.push(c),s.slice(0,a)+"$lit$"+s.slice(a)+ye+u):s+ye+(-2===a?(n.push(void 0),e):u)}const c=o+(t[s]||"<?>")+(2===e?"</svg>":"");return[void 0!==ge?ge.createHTML(c):c,n]};class Ve{constructor({strings:t,_$litType$:e},s){let n;this.parts=[];let i=0,o=0;const r=t.length-1,c=this.parts,[l,a]=We(t,e);if(this.el=Ve.createElement(l,s),Pe.currentNode=this.el.content,2===e){const t=this.el.content,e=t.firstChild;e.remove(),t.append(...e.childNodes)}for(;null!==(n=Pe.nextNode())&&c.length<r;){if(1===n.nodeType){if(n.hasAttributes()){const t=[];for(const e of n.getAttributeNames())if(e.endsWith("$lit$")||e.startsWith(ye)){const s=a[o++];if(t.push(e),void 0!==s){const t=n.getAttribute(s.toLowerCase()+"$lit$").split(ye),e=/([.?@])?(.*)/.exec(s);c.push({type:1,index:i,name:e[2],strings:t,ctor:"."===e[1]?qe:"?"===e[1]?Qe:"@"===e[1]?Ke:ze})}else c.push({type:6,index:i})}for(const e of t)n.removeAttribute(e)}if(Ue.test(n.tagName)){const t=n.textContent.split(ye),e=t.length-1;if(e>0){n.textContent=Te?Te.emptyScript:"";for(let s=0;s<e;s++)n.append(t[s],Ie()),Pe.nextNode(),c.push({type:2,index:++i});n.append(t[e],Ie())}}}else if(8===n.nodeType)if(n.data===ve)c.push({type:2,index:i});else{let t=-1;for(;-1!==(t=n.data.indexOf(ye,t+1));)c.push({type:7,index:i}),t+=ye.length-1}i++}}static createElement(t,e){const s=Ne.createElement("template");return s.innerHTML=t,s}}function He(t,e,s=t,n){var i,o,r,c;if(e===Me)return e;let l=void 0!==n?null===(i=s._$Cl)||void 0===i?void 0:i[n]:s._$Cu;const a=Se(e)?void 0:e._$litDirective$;return(null==l?void 0:l.constructor)!==a&&(null===(o=null==l?void 0:l._$AO)||void 0===o||o.call(l,!1),void 0===a?l=void 0:(l=new a(t),l._$AT(t,s,n)),void 0!==n?(null!==(r=(c=s)._$Cl)&&void 0!==r?r:c._$Cl=[])[n]=l:s._$Cu=l),void 0!==l&&(e=He(t,l._$AS(t,e.values),l,n)),e}class Ge{constructor(t,e){this.v=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(t){var e;const{el:{content:s},parts:n}=this._$AD,i=(null!==(e=null==t?void 0:t.creationScope)&&void 0!==e?e:Ne).importNode(s,!0);Pe.currentNode=i;let o=Pe.nextNode(),r=0,c=0,l=n[0];for(;void 0!==l;){if(r===l.index){let e;2===l.type?e=new Xe(o,o.nextSibling,this,t):1===l.type?e=new l.ctor(o,l.name,l.strings,this,t):6===l.type&&(e=new Ze(o,this,t)),this.v.push(e),l=n[++c]}r!==(null==l?void 0:l.index)&&(o=Pe.nextNode(),r++)}return i}m(t){let e=0;for(const s of this.v)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,e),e+=s.strings.length-2):s._$AI(t[e])),e++}}class Xe{constructor(t,e,s,n){var i;this.type=2,this._$AH=Fe,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=s,this.options=n,this._$Cg=null===(i=null==n?void 0:n.isConnected)||void 0===i||i}get _$AU(){var t,e;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this._$Cg}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===t.nodeType&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=He(this,t,e),Se(t)?t===Fe||null==t||""===t?(this._$AH!==Fe&&this._$AR(),this._$AH=Fe):t!==this._$AH&&t!==Me&&this.$(t):void 0!==t._$litType$?this.T(t):void 0!==t.nodeType?this.S(t):(t=>{var e;return $e(t)||"function"==typeof(null===(e=t)||void 0===e?void 0:e[Symbol.iterator])})(t)?this.M(t):this.$(t)}A(t,e=this._$AB){return this._$AA.parentNode.insertBefore(t,e)}S(t){this._$AH!==t&&(this._$AR(),this._$AH=this.A(t))}$(t){this._$AH!==Fe&&Se(this._$AH)?this._$AA.nextSibling.data=t:this.S(Ne.createTextNode(t)),this._$AH=t}T(t){var e;const{values:s,_$litType$:n}=t,i="number"==typeof n?this._$AC(t):(void 0===n.el&&(n.el=Ve.createElement(n.h,this.options)),n);if((null===(e=this._$AH)||void 0===e?void 0:e._$AD)===i)this._$AH.m(s);else{const t=new Ge(i,this),e=t.p(this.options);t.m(s),this.S(e),this._$AH=t}}_$AC(t){let e=ke.get(t.strings);return void 0===e&&ke.set(t.strings,e=new Ve(t)),e}M(t){$e(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let s,n=0;for(const i of t)n===e.length?e.push(s=new Xe(this.A(Ie()),this.A(Ie()),this,this.options)):s=e[n],s._$AI(i),n++;n<e.length&&(this._$AR(s&&s._$AB.nextSibling,n),e.length=n)}_$AR(t=this._$AA.nextSibling,e){var s;for(null===(s=this._$AP)||void 0===s||s.call(this,!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){var e;void 0===this._$AM&&(this._$Cg=t,null===(e=this._$AP)||void 0===e||e.call(this,t))}}class ze{constructor(t,e,s,n,i){this.type=1,this._$AH=Fe,this._$AN=void 0,this.element=t,this.name=e,this._$AM=n,this.options=i,s.length>2||""!==s[0]||""!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=Fe}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,e=this,s,n){const i=this.strings;let o=!1;if(void 0===i)t=He(this,t,e,0),o=!Se(t)||t!==this._$AH&&t!==Me,o&&(this._$AH=t);else{const n=t;let r,c;for(t=i[0],r=0;r<i.length-1;r++)c=He(this,n[s+r],e,r),c===Me&&(c=this._$AH[r]),o||(o=!Se(c)||c!==this._$AH[r]),c===Fe?t=Fe:t!==Fe&&(t+=(null!=c?c:"")+i[r+1]),this._$AH[r]=c}o&&!n&&this.k(t)}k(t){t===Fe?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}class qe extends ze{constructor(){super(...arguments),this.type=3}k(t){this.element[this.name]=t===Fe?void 0:t}}const Ye=Te?Te.emptyScript:"";class Qe extends ze{constructor(){super(...arguments),this.type=4}k(t){t&&t!==Fe?this.element.setAttribute(this.name,Ye):this.element.removeAttribute(this.name)}}class Ke extends ze{constructor(t,e,s,n,i){super(t,e,s,n,i),this.type=5}_$AI(t,e=this){var s;if((t=null!==(s=He(this,t,e,0))&&void 0!==s?s:Fe)===Me)return;const n=this._$AH,i=t===Fe&&n!==Fe||t.capture!==n.capture||t.once!==n.once||t.passive!==n.passive,o=t!==Fe&&(n===Fe||i);i&&this.element.removeEventListener(this.name,this,n),o&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var e,s;"function"==typeof this._$AH?this._$AH.call(null!==(s=null===(e=this.options)||void 0===e?void 0:e.host)&&void 0!==s?s:this.element,t):this._$AH.handleEvent(t)}}class Ze{constructor(t,e,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){He(this,t)}}const je=window.litHtmlPolyfillSupport;
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var Je,ts;null==je||je(Ve,Xe),(null!==(_e=globalThis.litHtmlVersions)&&void 0!==_e?_e:globalThis.litHtmlVersions=[]).push("2.0.2");class es extends xe{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var t,e;const s=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=s.firstChild),s}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Dt=Be(e,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this._$Dt)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this._$Dt)||void 0===t||t.setConnected(!1)}render(){return Me}}es.finalized=!0,es._$litElement$=!0,null===(Je=globalThis.litElementHydrateSupport)||void 0===Je||Je.call(globalThis,{LitElement:es});const ss=globalThis.litElementPolyfillSupport;null==ss||ss({LitElement:es}),(null!==(ts=globalThis.litElementVersions)&&void 0!==ts?ts:globalThis.litElementVersions=[]).push("3.0.2");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const ns=t=>e=>"function"==typeof e?((t,e)=>(window.customElements.define(t,e),e))(t,e):((t,e)=>{const{kind:s,elements:n}=e;return{kind:s,elements:n,finisher(e){window.customElements.define(t,e)}}})(t,e)
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */,is=(t,e)=>"method"===e.kind&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(s){s.createProperty(e.key,t)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){"function"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(s){s.createProperty(e.key,t)}};function os(t){return(e,s)=>void 0!==s?((t,e,s)=>{e.constructor.createProperty(s,t)})(t,e,s):is(t,e)}let rs=class extends es{constructor(){super(...arguments),this.stack=-1}static get styles(){return le`
      a {
        color: var(--vscode-textLink-foreground);
        text-decoration: underline;
      }

      .stackEntryFirst {
        cursor: pointer;
      }

      .stackEntry {
        cursor: pointer;
        display: block;
        padding-left: 1em;
      }
    `}render(){var t;const e=null===(t=ee.instance())||void 0===t?void 0:t.stacks;if(e&&this.stack>=0&&this.stack<e.length){const t=e[this.stack];if(t){const e=t.slice(1,10).map((t=>this.lineLink(t,!1)));return De`<details>
          <summary>${this.lineLink(t[0],!0)}</summary>
          ${e}
        </details>`}return De`<div class="stackEntry">No call stack available</div>`}}lineLink(t,e){const s=e?"stackEntryFirst":"stackEntry";return De`
      <a @click=${this.onCallerClick} class=${s} data-timestamp="${t.timestamp}"
        >${t.text}</a
      >
    `}onCallerClick(t){const e=t.target.getAttribute("data-timestamp");e&&W(parseInt(e))}};t([os({type:Number})],rs.prototype,"stack",void 0),rs=t([ns("call-stack")],rs);let cs=class extends es{constructor(){super(...arguments),this.key=""}static get styles(){return le`
      .dbEntry {
        display: flex;
      }
      .dbCount {
        display: inline-block;
        width: 75px;
        min-width: 75px;
      }
      .dbRows {
        display: inline-block;
        width: 90px;
        min-width: 90px;
      }
      .stackEntry {
        display: flex;
        margin-left: 180px;
      }
    `}render(){var t,e;const s=null===(t=ee.instance())||void 0===t?void 0:t.soqlMap,n=null===(e=ee.instance())||void 0===e?void 0:e.dmlMap;if(s&&n){const t=s.get(this.key)||n.get(this.key);if(t){const e=this.key.substring(this.key.indexOf(" ")+1),s=t.stacks.map((t=>De`<call-stack stack=${t}></call-stack>`));return De`
          <div class="dbEntry">
            <span class="dbCount">Count: ${t.count}</span>
            <span class="dbRows">Rows: ${t.rowCount}</span>
            <span>${e}${s}</span>
          </div>
        `}return De`<p>No entry found for key ${this.key}</p>`}}};t([os({type:String})],cs.prototype,"key",void 0),cs=t([ns("database-row")],cs);let ls=class extends es{constructor(){super(...arguments),this.type=""}static get styles(){return le`
      .dbSection {
        padding: 10px;
      }
      .dbTitle {
        font-weight: bold;
        font-size: 10pt;
      }
      .dbBlock {
        margin-left: 10px;
        font-weight: normal;
      }
    `}render(){const t=ee.instance();let e=null,s="";if("soql"===this.type&&t&&(e=t.soqlMap,s="SOQL Statements"),"dml"===this.type&&t&&(e=t.dmlMap,s="DML Statements"),e){const t=this.getKeyList(e);let n=0,i=0;e.forEach((t=>{n+=t.count,i+=t.rowCount}));const o=t.map((t=>De`<database-row key=${t} />`));return De`
        <div class="dbSection">
          <div class="dbTitle">
            ${s} (Count: ${n}, Rows: ${i})
            <div class="dbBlock">${o}</div>
          </div>
        </div>
      `}return De`<p>No map found for type ${this.type}</p>`}getKeyList(t){const e=Array.from(t.keys());return e.sort(((e,s)=>{const n=t.get(e),i=t.get(s);if(n&&i){const t=i.count-n.count;if(0!==t)return t;const e=i.rowCount-n.rowCount;if(0!==e)return e}return e.localeCompare(s)})),e}};function as(){return e(this,void 0,void 0,(function*(){const t=document.getElementById("dbContent");if(t){const e=[De`<database-section type="dml" />`,De`<database-section type="soql" />`];Be(De`<div>${e}</div>`,t)}}))}function ds(t,e){void 0===e&&(e={});var s=e.insertAt;if(t&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===s&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}t([os({type:String})],ls.prototype,"type",void 0),ls=t([ns("database-section")],ls);ds(".statusBar{display:flex;margin-top:10px;position:relative;white-space:nowrap;width:100%}#status{align-items:center;font-size:10pt;margin-bottom:5px;margin-top:5px}.helpIcon{height:24px;width:24px}.reason{-webkit-line-clamp:3;-webkit-box-orient:vertical;display:-webkit-box;margin-left:5px;min-width:13ch;overflow:hidden;padding:2px 4px;text-overflow:ellipsis}.reason,.tooltip{white-space:normal;word-break:break-word}.tooltip{background-color:var(--vscode-editor-background);color:var(--vscode-editor-foreground);padding:5px;position:absolute;top:100%;visibility:hidden;z-index:1}.reason:hover+.tooltip{visibility:visible}");ds("#logSettings{min-height:27px;padding:10px 0}.setting{background-color:var(--vscode-textBlockQuote-background);display:inline-block;font-family:var(--vscode-editor-font-family);font-size:8pt;margin-bottom:5px;margin-right:5px;padding:5px}.settingTitle{font-weight:700;margin-right:2px}.settingValue{color:grey}");ds(".tabHolder{background-color:var(--vscode-editorGroupHeader-tabsBackground);display:flex}.tab{background-color:var(--vscode-tab-background);border:1px solid var(--vscode-tab-border);color:var(--vscode-tab-inactiveForeground);cursor:pointer;display:inline-block;padding:5px 10px}.tab.selected{background-color:var(--vscode-tab-activeBackground);border-bottom-width:0;border:1px solid var(--vscode-tab-activeBorder);color:var(--vscode-tab-activeForeground);cursor:default}.tabPad{flex-grow:1}.tabber{border-top-width:0;flex:1;margin-bottom:20px;padding-top:10px}.tabItem{display:none;height:100%}.tabItem.selected{display:flex;flex-direction:column}.helpLink{background-color:var(--vscode-tab-background);border:1px solid var(--vscode-tab-border);color:var(--vscode-tab-inactiveForeground);cursor:pointer;display:inline-block;padding:5px 10px}");ds("#timeInMS{width:4rem}.buttonContainer{align-items:center;display:flex;flex-direction:row;margin-bottom:10px;padding:5px}.buttonContainer button,.filterItem{margin:5px}#treeScroll{flex:1;overflow:scroll}#tree,#treeScroll{white-space:nowrap}#tree{height:0}#tree .count{color:red;margin-right:5px}#breadcrumb{background-color:#f0f8ff;overflow-x:auto;white-space:nowrap}.crumb{background-color:beige;border:1px solid blue;border-radius:10px;display:inline-block;font-size:10pt;margin:4px 2px 10px;padding:0 5px;white-space:nowrap}.node{margin-top:2px;white-space:pre}.node.system{display:block}.node.formula{display:inline-block}.childContainer{margin-left:24px}.block{margin-top:2px;padding-left:1em;text-indent:-1em;white-space:pre}.detail{display:none}.marked{border:2px dashed blue}.toggle{border:1px solid silver;cursor:pointer;display:inline-block;line-height:10px;margin-right:4px;padding:2px;text-align:center;width:10px}.hide{display:none}");ds("#timelineView{height:75%;position:relative}#tooltip{color:var(--vscode-editor-foreground);display:none;max-width:90%;padding:5px;position:absolute;z-index:1000}#timeline,#tooltip{background-color:var(--vscode-editor-background)}#timeline{height:auto;width:100%;z-index:0}#timelineKey{margin-top:5px}#timelineWrapper{flex:1;overflow:hidden}#timelineKey .keyEntry{display:inline-block;font-size:8pt;margin-right:5px;padding:4px}#timelineView>.buttonContainer{align-items:center;display:flex;flex-direction:row;margin-bottom:10px;padding:5px}");ds(".analysisSettings{margin-bottom:10px;padding:10px}.analysisScroller{flex:1;overflow:scroll}#analysis{height:0}.analysis .row{display:flex}.analysis .row span{margin:2px}.analysis .row.data span{background-color:var(--vscode-editorGroupHeader-tabsBackground)}.analysis .row .name{flex-grow:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.analysis .row .count{min-width:50px;text-align:right}.analysis .row .duration,.analysis .row .selfTime{min-width:110px;text-align:right}#analysisView>.buttonContainer{align-items:center;margin:5px;padding:5px}");let us,hs,ps;function ms(t,s,n,i){return e(this,void 0,void 0,(function*(){const o=document.getElementById("status"),r=document.createElement("span"),c=document.createElement("a"),l=document.createElement("span"),d=us?(us/1e6).toFixed(2)+" MB":"",u=p?(p/1e9).toFixed(3)+" Sec":"",h=d||u?" ("+d+(d&&u?", ":"")+u+")":"";c.setAttribute("href","#"),c.appendChild(document.createTextNode(t)),c.addEventListener("click",(()=>w().openPath(s))),r.appendChild(c),r.appendChild(document.createTextNode(h+" - ")),l.innerText=n,l.style.color=i,o.innerHTML="",o.appendChild(r),o.appendChild(l),Array.isArray(a)&&a.forEach((t=>{const e=document.createElement("span");e.innerText=t.reason,e.className="reason",e.style.backgroundColor=t.color;const s=document.createElement("span");s.className="tooltip",s.innerText=t.reason,o.appendChild(e),o.appendChild(s)})),yield function(){return e(this,void 0,void 0,(function*(){yield new Promise((t=>window.requestAnimationFrame(t))),yield new Promise((t=>setTimeout(t)))}))}()}))}function Es(t){return e(this,void 0,void 0,(function*(){const e=t.children,s=e.length;t.containsDml=0,t.containsSoql=0,t.containsThrown=0;for(let n=0;n<s;++n){const s=e[n];s instanceof _&&("DML_BEGIN"===s.type&&++t.containsDml,"SOQL_EXECUTE_BEGIN"===s.type&&++t.containsSoql,"EXCEPTION_THROWN"===s.type&&++t.containsThrown,Es(s),t.containsDml+=s.containsDml,t.containsSoql+=s.containsSoql,t.containsThrown+=s.containsThrown)}}))}function fs(t){return e(this,void 0,void 0,(function*(){const e=t.children,s="DML_BEGIN"===t.type;let n=null,i=0;for(;i<e.length;){const t=e[i],o=t.type;if(n&&t instanceof _){if("ENTERING_MANAGED_PKG"===o&&t.namespace===n.namespace){e.splice(i,1),n.exitStamp=t.exitStamp,n.recalculateDurations();continue}if(s&&("DML_BEGIN"===o||"SOQL_EXECUTE_BEGIN"===o)||"EXCEPTION_THROWN"===o){e.splice(i,1),n.children&&n.children.push(t),n.containsDml=t.containsDml+("DML_BEGIN"===o?1:0),n.containsSoql=t.containsSoql+("SOQL_EXECUTE_BEGIN"===o?1:0),n.containsThrown=t.containsThrown+("EXCEPTION_THROWN"===o?1:0),n.exitStamp=t.exitStamp,n.recalculateDurations(),t instanceof T&&(yield fs(t));continue}++i}else++i;t instanceof T&&(yield fs(t)),n="ENTERING_MANAGED_PKG"===o?t:null}}))}function xs(t){const e=Date.now();hs&&console.debug(hs+" = "+(e-ps)+"ms"),hs=t,ps=e}function _s(t){return e(this,void 0,void 0,(function*(){const e=document.getElementById("logSettings");e.innerHTML="";const s=document.createDocumentFragment();for(const{key:e,level:n}of t)if("NONE"!==n){const t=document.createElement("div"),i=document.createElement("span"),o=document.createElement("span");i.innerText=e+":",i.className="settingTitle",o.innerText=n,o.className="settingValue",t.className="setting",t.appendChild(i),t.appendChild(o),s.appendChild(t)}e.appendChild(s)}))}function Ts(t,s,n){return e(this,void 0,void 0,(function*(){us=t.length,yield ms(s,n,"Processing...","black"),xs("parseLog"),yield Promise.all([_s(O(t)),L(t)]),xs("getRootMethod");const e=function(){var t;const e=new E(d),s=new g,n=[];let i;for(h=null;i=e.fetch();)null===(t=i.loadContent)||void 0===t||t.call(i,e,n),s.addChild(i);return s.setEndTime(),p=s.exitStamp||0,s}();xs("analyse"),yield Promise.all([ne(e),Es(e)]),yield fs(e),yield Promise.all([Yt(e),ee.create(e)]),yield ms(s,n,"Rendering...","black"),xs("renderViews"),yield Promise.all([Q(e),bt(e),jt(),as()]),xs(""),ms(s,n,"Ready",a.length>0?"red":"green")}))}function gs(t){n(t.target.id)}ds("#dbScroller{flex:1;overflow:scroll}#dbContent{height:0}"),window.addEventListener("DOMContentLoaded",(function(){const t=document.querySelector(".tabHolder");null==t||t.querySelectorAll(".tab").forEach((t=>t.addEventListener("click",gs)));const e=document.querySelector(".helpLink");e&&e.addEventListener("click",(()=>w().openHelp())),w().getConfig(),function(){var t,e,s,n,i;const o=null===(t=document.getElementById("LOG_FILE_NAME"))||void 0===t?void 0:t.innerHTML,r=null===(e=document.getElementById("LOG_FILE_PATH"))||void 0===e?void 0:e.innerHTML,c=null===(s=document.getElementById("LOG_FILE_NS"))||void 0===s?void 0:s.innerHTML,l=null===(n=document.getElementById("LOG_FILE_URI"))||void 0===n?void 0:n.innerHTML;window.activeNamespaces=null!==(i=null==c?void 0:c.split(","))&&void 0!==i?i:[],l&&fetch(l).then((t=>t.text())).then((t=>{Ts(null!=t?t:"",null!=o?o:"",null!=r?r:"")}))}()})),window.addEventListener("message",(function(t){const e=t.data;switch(e.command){case"getConfig":!function(t){for(const e of ct.values()){const s=t[e.label];s&&(e.fillColor=s)}}(e.data.timeline.colors),Ct();break;case"streamLog":Ts(e.data,e.name,"")}}));
//# sourceMappingURL=bundle.js.map
